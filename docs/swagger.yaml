basePath: /
definitions:
  brzrpc.ChangeTitleNoteRequest:
    properties:
      idNote:
        type: string
      idUser:
        type: string
      title:
        type: string
    type: object
  brzrpc.Id:
    properties:
      id:
        type: string
    type: object
  brzrpc.NotePart:
    properties:
      first_block:
        type: string
      id:
        type: string
      tag:
        $ref: '#/definitions/brzrpc.Tag'
      title:
        type: string
      updated_at:
        type: integer
    type: object
  brzrpc.Tag:
    properties:
      color:
        type: string
      emoji:
        type: string
      id:
        type: string
      title:
        type: string
      userId:
        type: string
    type: object
  brzrpc.Token:
    properties:
      exp:
        type: integer
      value:
        type: string
    type: object
  brzrpc.Tokens:
    properties:
      access_token:
        type: string
      expAccess:
        type: integer
      expRefresh:
        type: integer
      refresh_token:
        type: string
    type: object
  domain.AuthRequest:
    properties:
      email:
        type: string
      login:
        type: string
      password:
        type: string
    type: object
  domain.Block:
    properties:
      created_at:
        type: integer
      data:
        additionalProperties: {}
        type: object
      id:
        type: string
      is_used:
        type: boolean
      note_id:
        type: string
      order:
        type: integer
      type:
        type: string
      updated_at:
        type: integer
    type: object
  domain.BlockNoteId:
    properties:
      block_id:
        type: string
      note_id:
        type: string
    type: object
  domain.ChangeBlockOrderRequest:
    properties:
      new_order:
        type: integer
      note_id:
        type: string
      old_order:
        type: integer
    type: object
  domain.ChangePasswordRequest:
    properties:
      new_password:
        type: string
      new_password_2:
        type: string
      old_password:
        type: string
    type: object
  domain.ChangeRoleRequest:
    properties:
      login:
        type: string
      new_role:
        type: string
      note_id:
        type: string
    type: object
  domain.ChangeTypeBlockRequest:
    properties:
      block_id:
        type: string
      new_type:
        type: string
      note_id:
        type: string
    type: object
  domain.CreateBlockRequest:
    properties:
      data:
        additionalProperties: {}
        type: object
      note_id:
        type: string
      pos:
        type: integer
      type:
        type: string
    type: object
  domain.CreateNoteRequest:
    properties:
      title:
        type: string
    type: object
  domain.CreateTagRequest:
    properties:
      color:
        type: string
      emoji:
        type: string
      title:
        type: string
    type: object
  domain.Error:
    properties:
      error:
        example: error
        type: string
    type: object
  domain.Id:
    properties:
      id:
        type: string
    type: object
  domain.Message:
    properties:
      message:
        example: some info
        type: string
    type: object
  domain.NoteListPaginationResponse:
    properties:
      items:
        items:
          $ref: '#/definitions/domain.NotePart'
        type: array
      total:
        type: integer
    type: object
  domain.NotePart:
    properties:
      firstBlock:
        type: string
      id:
        type: string
      tag:
        $ref: '#/definitions/domain.Tag'
      title:
        type: string
      updatedAt:
        format: int64
        type: integer
    type: object
  domain.NoteTagId:
    properties:
      note_id:
        type: string
      tag_id:
        type: string
    type: object
  domain.NoteWithBlocks:
    properties:
      author:
        type: string
      blocks:
        items:
          $ref: '#/definitions/domain.Block'
        type: array
      created_at:
        type: integer
      editors:
        items:
          type: string
        type: array
      id:
        type: string
      readers:
        items:
          type: string
        type: array
      tag:
        $ref: '#/definitions/domain.Tag'
      title:
        type: string
      updated_at:
        type: integer
    type: object
  domain.OpBlockRequest:
    properties:
      block_id:
        type: string
      data:
        additionalProperties: {}
        type: object
      note_id:
        type: string
      op:
        type: string
    type: object
  domain.ShareNoteRequest:
    properties:
      login:
        type: string
      note_id:
        type: string
      role:
        type: string
    type: object
  domain.Tag:
    properties:
      color:
        type: string
      emoji:
        type: string
      id:
        type: string
      title:
        type: string
      userId:
        type: string
    type: object
  domain.UpdateAboutRequest:
    properties:
      new_about:
        type: string
    type: object
  domain.UpdateEmailRequest:
    properties:
      new_email:
        type: string
    type: object
  domain.UpdatePhotoRequest:
    properties:
      new_photo:
        type: string
    type: object
  domain.UpdateTagColorRequest:
    properties:
      color:
        type: string
      id_tag:
        type: string
    type: object
  domain.UpdateTagEmojiRequest:
    properties:
      emoji:
        type: string
      id_tag:
        type: string
    type: object
  domain.UpdateTagTitleRequest:
    properties:
      id_tag:
        type: string
      title:
        type: string
    type: object
  domain.User:
    properties:
      about:
        type: string
      email:
        type: string
      id:
        type: string
      login:
        type: string
      password:
        type: string
      photo:
        type: string
    type: object
  domain.UserRegister:
    properties:
      email:
        type: string
      login:
        type: string
      pw1:
        type: string
      pw2:
        type: string
    type: object
host: localhost:8080
info:
  contact:
    email: help@breezynotes.ru
    name: Alex "bustard" Provor
    url: https://contacts.breezynotes.ru
  description: Full API for BreezyNotes.
  termsOfService: https://about.breezynotes.ru/
  title: Breezy notes gateway REST UserAPI
  version: 0.1-.-infDev
paths:
  /api/auth:
    post:
      consumes:
      - application/json
      description: Authenticates user and returns access/refresh tokens
      parameters:
      - description: Login or Email and Password
        in: body
        name: User
        required: true
        schema:
          $ref: '#/definitions/domain.AuthRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/brzrpc.Tokens'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: Authorize user
      tags:
      - auth
  /api/auth/reg:
    post:
      consumes:
      - application/json
      description: Validates registration data, creates user and returns tokens
      parameters:
      - description: Reg data
        in: body
        name: User
        required: true
        schema:
          $ref: '#/definitions/domain.UserRegister'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/brzrpc.Tokens'
        "302":
          description: Found
          schema:
            $ref: '#/definitions/domain.Error'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: Register new user
      tags:
      - auth
  /api/auth/token:
    get:
      description: Checks access token from cookie, tries to refresh if expired. If
        410 (GONE) need to re-auth
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.Message'
        "201":
          description: Created
          schema:
            $ref: '#/definitions/brzrpc.Token'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: Validate token (uses cookies)
      tags:
      - auth
  /api/block:
    delete:
      consumes:
      - application/json
      description: Deletes block by ID
      parameters:
      - description: Block ID
        in: query
        name: block_id
        required: true
        type: string
      - description: Note ID
        in: query
        name: note_id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: delete block
      tags:
      - block
    post:
      consumes:
      - application/json
      description: Creates block of given type
      parameters:
      - description: Type and data
        in: body
        name: CreateBlockRequest
        required: true
        schema:
          $ref: '#/definitions/domain.CreateBlockRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.Id'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: Create block
      tags:
      - block
  /api/block/op:
    post:
      consumes:
      - application/json
      description: Performs operation on block
      parameters:
      - description: Block ID, operation and data
        in: body
        name: OpBlockRequest
        required: true
        schema:
          $ref: '#/definitions/domain.OpBlockRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: Operate on block
      tags:
      - block
  /api/block/order:
    patch:
      consumes:
      - application/json
      description: Changes order of block in note
      parameters:
      - description: Note ID and new/old order
        in: body
        name: ChangeBlockOrderRequest
        required: true
        schema:
          $ref: '#/definitions/domain.ChangeBlockOrderRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: Change block order in note
      tags:
      - block
  /api/block/type:
    patch:
      consumes:
      - application/json
      description: Changes block type
      parameters:
      - description: Block ID and new type
        in: body
        name: ChangeTypeBlockRequest
        required: true
        schema:
          $ref: '#/definitions/domain.ChangeTypeBlockRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: Change block type
      tags:
      - block
  /api/healthz:
    get:
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.Message'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Message'
      summary: check health of gateway
      tags:
      - healthz
  /api/note:
    get:
      consumes:
      - application/json
      description: Returns note by ID
      parameters:
      - description: Note ID
        in: query
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.NoteWithBlocks'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: GetNote note
      tags:
      - note
    post:
      consumes:
      - application/json
      description: Creates new note
      parameters:
      - description: Note info
        in: body
        name: Note
        required: true
        schema:
          $ref: '#/definitions/domain.CreateNoteRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/brzrpc.Id'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: Create note
      tags:
      - note
  /api/note/all:
    get:
      consumes:
      - application/json
      description: Returns all notes by user ID
      parameters:
      - description: start > 0
        in: query
        name: start
        required: true
        type: integer
      - description: end
        in: query
        name: end
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.NoteListPaginationResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: GetNote all notes of user
      tags:
      - note
  /api/note/by-tag:
    get:
      consumes:
      - application/json
      description: Returns all notes that contain given tag
      parameters:
      - description: Tag ID
        in: query
        name: id
        required: true
        type: string
      - description: start > 0
        in: query
        name: start
        required: true
        type: integer
      - description: end
        in: query
        name: end
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.NoteListPaginationResponse'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: GetNote notes by tag
      tags:
      - note
  /api/note/role:
    patch:
      consumes:
      - application/json
      description: replace user to list of editors or readers
      parameters:
      - description: share info
        in: body
        name: Note
        required: true
        schema:
          $ref: '#/definitions/domain.ChangeRoleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: share note
      tags:
      - note
  /api/note/search:
    get:
      consumes:
      - application/json
      description: if not fiend title get all block as first and fiend sames
      parameters:
      - description: start > 0
        in: query
        name: start
        required: true
        type: integer
      - description: end
        in: query
        name: end
        required: true
        type: integer
      - description: prompt
        in: query
        name: prompt
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/brzrpc.NotePart'
            type: array
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "408":
          description: Request Timeout
          schema:
            items:
              $ref: '#/definitions/brzrpc.NotePart'
            type: array
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: search note by title or blocks inside
      tags:
      - note
  /api/note/share:
    patch:
      consumes:
      - application/json
      description: add new user to list of editors or readers
      parameters:
      - description: share info
        in: body
        name: Note
        required: true
        schema:
          $ref: '#/definitions/domain.ShareNoteRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: share note
      tags:
      - note
  /api/note/tag:
    delete:
      consumes:
      - application/json
      description: Remove tag from note
      parameters:
      - description: Note ID and Tag ID
        in: body
        name: AddTagToNoteRequest
        required: true
        schema:
          $ref: '#/definitions/domain.NoteTagId'
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: Remove tag from note
      tags:
      - note
    post:
      consumes:
      - application/json
      description: Attaches tag to note
      parameters:
      - description: Note ID and Tag ID
        in: body
        name: AddTagToNoteRequest
        required: true
        schema:
          $ref: '#/definitions/domain.NoteTagId'
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: Add tag to note
      tags:
      - note
  /api/note/title:
    patch:
      consumes:
      - application/json
      description: Changes title of existing note
      parameters:
      - description: Note ID and new title
        in: body
        name: ChangeTitleNoteRequest
        required: true
        schema:
          $ref: '#/definitions/brzrpc.ChangeTitleNoteRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: Change note title
      tags:
      - note
  /api/tag:
    delete:
      consumes:
      - application/json
      description: Deletes tag by ID
      parameters:
      - description: Tag ID
        in: query
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: delete tag
      tags:
      - tag
    post:
      consumes:
      - application/json
      description: Creates new tag
      parameters:
      - description: Tag data
        in: body
        name: Tag
        required: true
        schema:
          $ref: '#/definitions/domain.CreateTagRequest'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/domain.Id'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: Create tag
      tags:
      - tag
  /api/tag/by-user:
    get:
      consumes:
      - application/json
      description: Returns all tags for user
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/domain.Tag'
            type: array
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: GetNote tags by user
      tags:
      - tag
  /api/tag/color:
    patch:
      consumes:
      - application/json
      description: Updates color of tag
      parameters:
      - description: Tag ID and color
        in: body
        name: UpdateTagColorRequest
        required: true
        schema:
          $ref: '#/definitions/domain.UpdateTagColorRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: Update tag color
      tags:
      - tag
  /api/tag/emoji:
    patch:
      consumes:
      - application/json
      description: Updates emoji of tag
      parameters:
      - description: Tag ID and emoji
        in: body
        name: UpdateTagEmojiRequest
        required: true
        schema:
          $ref: '#/definitions/domain.UpdateTagEmojiRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: Update tag emoji
      tags:
      - tag
  /api/tag/title:
    patch:
      consumes:
      - application/json
      description: Updates title of tag
      parameters:
      - description: Tag ID and title
        in: body
        name: UpdateTagTitleRequest
        required: true
        schema:
          $ref: '#/definitions/domain.UpdateTagTitleRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: Update tag title
      tags:
      - tag
  /api/trash:
    delete:
      consumes:
      - application/json
      description: Deletes all notes from trash for user
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: Clean trash
      tags:
      - trash
    get:
      consumes:
      - application/json
      description: Returns notes from trash by user ID
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            items:
              $ref: '#/definitions/brzrpc.NotePart'
            type: array
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: GetNote notes from trash
      tags:
      - trash
  /api/trash/from:
    put:
      consumes:
      - application/json
      description: Restores note from trash
      parameters:
      - description: Note ID
        in: query
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: Restore note from trash
      tags:
      - trash
  /api/trash/to:
    put:
      consumes:
      - application/json
      description: Moves note to trash
      parameters:
      - description: Note ID
        in: query
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: Move note to trash
      tags:
      - trash
  /api/user:
    delete:
      description: Deletes user account by ID. Requires authentication.
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: delete user account
      tags:
      - user
  /api/user/about:
    patch:
      consumes:
      - application/json
      description: Updates user "about" field. Requires authentication.
      parameters:
      - description: new about text
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/domain.UpdateAboutRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: update user about
      tags:
      - user
  /api/user/data:
    get:
      description: Checks access token from cookie, and return user data. If 401 call
        ValidateToken
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/domain.User'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: get user data from access token
      tags:
      - user
  /api/user/email:
    patch:
      consumes:
      - application/json
      description: Updates user email. Requires authentication.
      parameters:
      - description: new email
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/domain.UpdateEmailRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: update user email
      tags:
      - user
  /api/user/photo:
    patch:
      consumes:
      - application/json
      description: Updates user photo. Requires authentication.
      parameters:
      - description: new photo
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/domain.UpdatePhotoRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: update user photo
      tags:
      - user
  /api/user/pw:
    patch:
      consumes:
      - application/json
      description: Changes user password. Requires authentication.
      parameters:
      - description: new password
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/domain.ChangePasswordRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/domain.Error'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/domain.Error'
        "404":
          description: Not Found
          schema:
            $ref: '#/definitions/domain.Error'
        "502":
          description: Bad Gateway
          schema:
            $ref: '#/definitions/domain.Error'
        "504":
          description: Gateway Timeout
          schema:
            $ref: '#/definitions/domain.Error'
      summary: change user password
      tags:
      - user
schemes:
- http
swagger: "2.0"
